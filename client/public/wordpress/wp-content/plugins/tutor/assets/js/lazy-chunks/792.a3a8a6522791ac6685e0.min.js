"use strict";(self["webpackChunktutor"]=self["webpackChunktutor"]||[]).push([[792],{2038:(t,e,r)=>{r.r(e);r.d(e,{default:()=>Ce});var n=r(917);var o=r(202);var i=r(2141);var a=r(8003);var u=r(7363);var l=r(7536);var c=r(9546);var s=r(6595);var d=r(8343);var f=r(2274);var p=r(313);var v=r(3855);var h=r(9119);var y=r(9952);var b=r(74);var m=r(7941);var g=r(830);var _=r(9447);var Z=r(6413);var w=r(1537);var S=r(5460);var O=r(4900);var x=r(125);var j=r(9169);function P(){P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){t[n]=r[n]}}}return t};return P.apply(this,arguments)}function D(t,e){return T(t)||A(t,e)||E(t,e)||W()}function W(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(t,e){if(!t)return;if(typeof t==="string")return C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor)r=t.constructor.name;if(r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(t,e)}function C(t,e){if(e==null||e>t.length)e=t.length;for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function T(t){if(Array.isArray(t))return t}function k(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var I=function t(){var e,r,o,i;var w=(0,l.Gc)();var S=(0,l.qo)({name:"post_date"});var W=(e=(0,l.qo)({name:"schedule_date"}))!==null&&e!==void 0?e:"";var E=(r=(0,l.qo)({name:"schedule_time"}))!==null&&r!==void 0?r:(0,c["default"])((0,d["default"])(new Date,1),Z.E_.hoursMinutes);var C=(o=(0,l.qo)({name:"isScheduleEnabled"}))!==null&&o!==void 0?o:false;var A=(i=(0,l.qo)({name:"showScheduleForm"}))!==null&&i!==void 0?i:false;var T=(0,u.useState)(W&&E&&(0,f["default"])(new Date("".concat(W," ").concat(E)))?(0,c["default"])(new Date("".concat(W," ").concat(E)),Z.E_.yearMonthDayHourMinuteSecond24H):""),k=D(T,2),I=k[0],L=k[1];var M=function t(){w.setValue("schedule_date","",{shouldDirty:true});w.setValue("schedule_time","",{shouldDirty:true});w.setValue("showScheduleForm",true,{shouldDirty:true})};var Q=function t(){var e=(0,p["default"])(new Date(S),new Date);w.setValue("schedule_date",e&&I?(0,c["default"])((0,v["default"])(I),Z.E_.yearMonthDay):"",{shouldDirty:true});w.setValue("schedule_time",e&&I?(0,c["default"])((0,v["default"])(I),Z.E_.hoursMinutes):"",{shouldDirty:true})};var F=function t(){if(!W||!E){return}w.setValue("showScheduleForm",false,{shouldDirty:true});L((0,c["default"])(new Date("".concat(W," ").concat(E)),Z.E_.yearMonthDayHourMinuteSecond24H))};(0,u.useEffect)((function(){if(C&&A){w.setFocus("schedule_date")}}),[A,C]);return(0,n.tZ)("div",{css:N.scheduleOptions},(0,n.tZ)(l.Qr,{name:"isScheduleEnabled",control:w.control,render:function t(e){return(0,n.tZ)(g.Z,P({},e,{label:(0,a.__)("Schedule","tutor"),onChange:function t(e){if(!e&&W&&E){w.setValue("showScheduleForm",false,{shouldDirty:true})}}}))}}),C&&A&&(0,n.tZ)("div",{css:N.formWrapper},(0,n.tZ)("div",{css:x.i.dateAndTimeWrapper},(0,n.tZ)(l.Qr,{name:"schedule_date",control:w.control,rules:{required:(0,a.__)("Schedule date is required.","tutor"),validate:{invalidDateRule:j.Ek,futureDate:function t(e){if((0,p["default"])(new Date("".concat(e)),(0,h["default"])(new Date))){return(0,a.__)("Schedule date should be in the future.","tutor")}return true}}},render:function t(e){return(0,n.tZ)(m.Z,P({},e,{isClearable:false,placeholder:(0,a.__)("Select date","tutor"),disabledBefore:(0,c["default"])(new Date,Z.E_.yearMonthDay),onChange:function t(){w.setFocus("schedule_time")},dateFormat:Z.E_.monthDayYear}))}}),(0,n.tZ)(l.Qr,{name:"schedule_time",control:w.control,rules:{required:(0,a.__)("Schedule time is required.","tutor"),validate:{invalidTimeRule:j.xB,futureDate:function t(e){if((0,p["default"])(new Date("".concat(w.watch("schedule_date")," ").concat(e)),new Date)){return(0,a.__)("Schedule time should be in the future.","tutor")}return true}}},render:function t(e){return(0,n.tZ)(_.Z,P({},e,{interval:60,isClearable:false,placeholder:"hh:mm A"}))}})),(0,n.tZ)("div",{css:N.scheduleButtonsWrapper},(0,n.tZ)(b.Z,{variant:"tertiary",size:"small",onClick:Q,disabled:!W&&!E||(0,f["default"])(new Date("".concat(W," ").concat(E)))&&(0,y.Z)(new Date("".concat(W," ").concat(E)),new Date(I))},(0,a.__)("Cancel","tutor")),(0,n.tZ)(b.Z,{variant:"secondary",size:"small",onClick:w.handleSubmit(F),disabled:!W||!E},(0,a.__)("Ok","tutor")))),C&&!A&&(0,n.tZ)("div",{css:N.scheduleInfoWrapper},(0,n.tZ)("div",{css:N.scheduledFor},(0,n.tZ)("div",{css:N.scheduleLabel},(0,a.__)("Scheduled for","tutor")),(0,n.tZ)("div",{css:N.scheduleInfoButtons},(0,n.tZ)("button",{type:"button",css:x.i.actionButton,onClick:M},(0,n.tZ)(s.Z,{name:"delete",width:24,height:24})),(0,n.tZ)("button",{type:"button",css:x.i.actionButton,onClick:function t(){w.setValue("showScheduleForm",true,{shouldDirty:true})}},(0,n.tZ)(s.Z,{name:"edit",width:24,height:24})))),(0,n.tZ)(O.Z,{when:W&&E&&(0,f["default"])(new Date("".concat(W," ").concat(E)))},(0,n.tZ)("div",{css:N.scheduleInfo},(0,a.sprintf)((0,a.__)("%s at %s","tutor"),(0,c["default"])((0,v["default"])(W),Z.E_.monthDayYear),E)))))};const L=I;var N={scheduleOptions:(0,n.iv)("padding:",w.W0[12],";border:1px solid ",w.Jv.stroke["default"],";border-radius:",w.E0[8],";gap:",w.W0[8],";background-color:",w.Jv.bg.white,";"+(true?"":0),true?"":0),formWrapper:(0,n.iv)("margin-top:",w.W0[16],";"+(true?"":0),true?"":0),scheduleButtonsWrapper:(0,n.iv)("display:flex;gap:",w.W0[12],";margin-top:",w.W0[8],";button{width:100%;span{justify-content:center;}}"+(true?"":0),true?"":0),scheduleInfoWrapper:(0,n.iv)("display:flex;flex-direction:column;gap:",w.W0[8],";margin-top:",w.W0[12],";"+(true?"":0),true?"":0),scheduledFor:true?{name:"bcffy2",styles:"display:flex;align-items:center;justify-content:space-between"}:0,scheduleLabel:(0,n.iv)(S.c.caption(),";color:",w.Jv.text.subdued,";"+(true?"":0),true?"":0),scheduleInfoButtons:(0,n.iv)("display:flex;align-items:center;gap:",w.W0[8],";"+(true?"":0),true?"":0),scheduleInfo:(0,n.iv)(S.c.caption(),";background-color:",w.Jv.background.status.processing,";padding:",w.W0[8],";border-radius:",w.E0[4],";text-align:center;"+(true?"":0),true?"":0)};var M=r(1487);var Q=r(4857);var F=r(9768);var V=r(8777);var G=r(6932);var q=r(2739);var z=r(4436);var U=r(7034);var J=r(8305);var R=r(6375);var B=r(5219);var Y=r(9250);var $=r(1162);var H=r(1961);var K=r(6873);var X=r(2556);var tt=r(7151);var et=r(7363);function rt(t){"@babel/helpers - typeof";return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function nt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ot(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(r),!0).forEach((function(e){it(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function it(t,e,r){e=at(e);if(e in t){Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true})}else{t[e]=r}return t}function at(t){var e=ut(t,"string");return rt(e)==="symbol"?e:String(e)}function ut(t,e){if(rt(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==undefined){var n=r.call(t,e||"default");if(rt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lt(){lt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){t[n]=r[n]}}}return t};return lt.apply(this,arguments)}function ct(t){return pt(t)||ft(t)||dt(t)||st()}function st(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function dt(t,e){if(!t)return;if(typeof t==="string")return vt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor)r=t.constructor.name;if(r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vt(t,e)}function ft(t){if(typeof Symbol!=="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pt(t){if(Array.isArray(t))return vt(t)}function vt(t,e){if(e==null||e>t.length)e=t.length;for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ht=(0,U.zs)();var yt=function t(){var e,r,c,s,d,f,p,v,h,y;var b=(0,l.Gc)();var m=(0,o.NL)();var g=(0,i.y)({queryKey:["CourseDetails",ht]});var _=(0,Y.s0)();var S=(0,Y.TH)(),P=S.state;var D=(0,l.qo)({control:b.control,name:"course_price_type"});var W=(0,l.qo)({control:b.control,name:"course_product_id"});var E=m.getQueryData(["CourseDetails",ht]);var C=J.y.tutor_currency;var A=!!J.y.tutor_pro_url;var T=((e=J.y.settings)===null||e===void 0?void 0:e.monetize_by)==="wc"||((r=J.y.settings)===null||r===void 0?void 0:r.monetize_by)==="tutor"||((c=J.y.settings)===null||c===void 0?void 0:c.monetize_by)==="edd"?[{label:(0,a.__)("Free","tutor"),value:"free"},{label:(0,a.__)("Paid","tutor"),value:"paid"}]:[{label:(0,a.__)("Free","tutor"),value:"free"}];var k=(0,K.ni)((s=J.y.settings)===null||s===void 0?void 0:s.monetize_by,ht?String(ht):"");var I=(0,K.vG)(W,String(ht),D,A?(d=J.y.settings)===null||d===void 0?void 0:d.monetize_by:undefined);var L=function t(e){var r;if(!e||!e.length){return[]}var n=E||{},o=n.course_pricing;var i=o!==null&&o!==void 0&&o.product_id&&o.product_id!=="0"&&o.product_name?{label:o.product_name||"",value:String(o.product_id)}:null;var a=(r=e.map((function(t){var e=t.post_title,r=t.ID;return{label:e,value:String(r)}})))!==null&&r!==void 0?r:[];var u=[i].concat(ct(a)).filter(tt.$K);var l=Array.from(new Map(u.map((function(t){return[t.value,t]}))).values());return l};(0,u.useEffect)((function(){if(k.isSuccess&&k.data){var t;var e=E||{},r=e.course_pricing;if(((t=J.y.settings)===null||t===void 0?void 0:t.monetize_by)==="wc"&&r!==null&&r!==void 0&&r.product_id&&r.product_id!=="0"&&!L(k.data).find((function(t){var e=t.value;return String(e)===String(r.product_id)}))){b.setValue("course_product_id","",{shouldValidate:true})}}}),[k.data]);(0,u.useEffect)((function(){var t;if(!J.y.edd_products||!J.y.edd_products.length){return}var e=E||{},r=e.course_pricing;if(((t=J.y.settings)===null||t===void 0?void 0:t.monetize_by)==="edd"&&r!==null&&r!==void 0&&r.product_id&&r.product_id!=="0"&&!J.y.edd_products.find((function(t){var e=t.ID;return String(e)===String(r.product_id)}))){b.setValue("course_product_id","",{shouldValidate:true})}}),[J.y.edd_products]);(0,u.useEffect)((function(){var t;if(((t=J.y.settings)===null||t===void 0?void 0:t.monetize_by)!=="wc"){return}if(I.isSuccess&&I.data){if(P!==null&&P!==void 0&&P.isError){_("/basics",{state:{isError:false}});return}b.setValue("course_price",I.data.regular_price||"0",{shouldValidate:true});b.setValue("course_sale_price",I.data.sale_price||"0",{shouldValidate:true});return}var e=b.formState.dirtyFields.course_price;var r=b.formState.dirtyFields.course_sale_price;if(!e){b.setValue("course_price","0")}if(!r){b.setValue("course_sale_price","0")}}),[I.data]);return(0,n.tZ)(et.Fragment,null,(0,n.tZ)(l.Qr,{name:"course_price_type",control:b.control,render:function t(e){return(0,n.tZ)(H.Z,lt({},e,{label:(0,a.__)("Pricing Model","tutor"),options:T,wrapperCss:mt.priceRadioGroup}))}}),(0,n.tZ)(O.Z,{when:D==="paid"&&((f=J.y.settings)===null||f===void 0?void 0:f.monetize_by)==="wc"},(0,n.tZ)(l.Qr,{name:"course_product_id",control:b.control,render:function t(e){return(0,n.tZ)(V.Z,lt({},e,{label:(0,a.__)("Select product","tutor"),placeholder:(0,a.__)("Select a product","tutor"),options:[{label:(0,a.__)("Select a product","tutor"),value:"-1"}].concat(ct(L(k.data))),helpText:(0,a.sprintf)((0,a.__)("You can select an existing WooCommerce product%s","tutor"),A?", alternatively, a new WooCommerce product will be created for you.":"."),isSearchable:true,loading:k.isLoading&&!e.field.value,isClearable:true}))}})),(0,n.tZ)(O.Z,{when:D==="paid"&&((p=J.y.settings)===null||p===void 0?void 0:p.monetize_by)==="edd"},(0,n.tZ)(l.Qr,{name:"course_product_id",control:b.control,rules:ot({},(0,j.n0)()),render:function t(e){return(0,n.tZ)(V.Z,lt({},e,{label:(0,a.__)("Select product","tutor"),placeholder:(0,a.__)("Select a product","tutor"),options:J.y.edd_products?J.y.edd_products.map((function(t){return{label:t.post_title,value:String(t.ID)}})):[],helpText:(0,a.__)("Sell your product, process by EDD","tutor"),isSearchable:true,loading:!!g&&!e.field.value}))}})),(0,n.tZ)(O.Z,{when:D==="paid"&&(((v=J.y.settings)===null||v===void 0?void 0:v.monetize_by)==="tutor"||A&&((h=J.y.settings)===null||h===void 0?void 0:h.monetize_by)==="wc"&&W!=="-1")},(0,n.tZ)("div",{css:mt.coursePriceWrapper},(0,n.tZ)(l.Qr,{name:"course_price",control:b.control,rules:ot(ot({},(0,j.n0)()),{},{validate:function t(e){if(Number(e)<=0){return(0,a.__)("Price must be greater than 0","tutor")}return true}}),render:function t(e){return(0,n.tZ)($.Z,lt({},e,{label:(0,a.__)("Regular Price","tutor"),content:(C===null||C===void 0?void 0:C.symbol)||"$",placeholder:(0,a.__)("0","tutor"),type:"number",loading:!!g&&!e.field.value,selectOnFocus:true,contentCss:x.i.inputCurrencyStyle}))}}),(0,n.tZ)(l.Qr,{name:"course_sale_price",control:b.control,rules:{validate:function t(e){if(!e){return true}var r=b.getValues("course_price");if(Number(e)>=Number(r)){return(0,a.__)("Sale price must be less than regular price","tutor")}return true}},render:function t(e){return(0,n.tZ)($.Z,lt({},e,{label:(0,a.__)("Sale Price","tutor"),content:(C===null||C===void 0?void 0:C.symbol)||"$",placeholder:(0,a.__)("0","tutor"),type:"number",loading:!!g&&!e.field.value,selectOnFocus:true,contentCss:x.i.inputCurrencyStyle}))}}))),(0,n.tZ)(O.Z,{when:(0,B.ro)(Z.AO.SUBSCRIPTION)&&((y=J.y.settings)===null||y===void 0?void 0:y.monetize_by)==="tutor"&&D==="paid"},(0,n.tZ)(X.Z,{courseId:ht}),(0,n.tZ)(l.Qr,{name:"course_selling_option",control:b.control,render:function t(e){return(0,n.tZ)(H.Z,lt({},e,{wrapperCss:(0,n.iv)(">div:not(:last-child){margin-bottom:",w.W0[10],";}"+(true?"":0),true?"":0),label:(0,a.__)("Purchase Options","tutor"),options:[{label:(0,a.__)("Subscription only","tutor"),value:"subscription"},{label:(0,a.__)("One-time purchase only","tutor"),value:"one_time"},{label:(0,a.__)("Subscription & one-time purchase","tutor"),value:"both"}]}))}})))};const bt=yt;var mt={priceRadioGroup:(0,n.iv)("display:flex;align-items:center;gap:",w.W0[36],";"+(true?"":0),true?"":0),coursePriceWrapper:(0,n.iv)("display:flex;align-items:flex-start;gap:",w.W0[16],";"+(true?"":0),true?"":0)};function gt(){gt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){t[n]=r[n]}}}return t};return gt.apply(this,arguments)}function _t(t){return St(t)||wt(t)||jt(t)||Zt()}function Zt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wt(t){if(typeof Symbol!=="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function St(t){if(Array.isArray(t))return Pt(t)}function Ot(t,e){return Wt(t)||Dt(t,e)||jt(t,e)||xt()}function xt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jt(t,e){if(!t)return;if(typeof t==="string")return Pt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor)r=t.constructor.name;if(r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pt(t,e)}function Pt(t,e){if(e==null||e>t.length)e=t.length;for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dt(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function Wt(t){if(Array.isArray(t))return t}var Et=(0,U.zs)();var Ct=function t(){var e,r,d;var f=(0,l.Gc)();var p=(0,o.NL)();var v=(0,i.y)({queryKey:["CourseDetails",Et]});var h=(0,u.useState)(""),y=Ot(h,2),b=y[0],m=y[1];var g=p.getQueryData(["CourseDetails",Et]);var _=J.y.current_user;var w=(0,B.ro)(Z.AO.TUTOR_MULTI_INSTRUCTORS);var S=!!J.y.tutor_pro_url;var x=((e=J.y.settings)===null||e===void 0?void 0:e.chatgpt_enable)==="on";var j=((r=J.y.settings)===null||r===void 0?void 0:r.instructor_can_change_course_author)!=="off";var P=((d=J.y.settings)===null||d===void 0?void 0:d.instructor_can_manage_co_instructors)!=="off";var D=String(_.data.id)===String((g===null||g===void 0?void 0:g.post_author.ID)||"");var W=_.roles.includes(Z.er.ADMINISTRATOR);var E=((g===null||g===void 0?void 0:g.course_instructors)||[]).find((function(t){return String(t.id)===String(_.data.id)}));var C=f.watch("post_author");var A=S&&w&&(W||E&&P);var T=W||D&&j;var k=(0,l.qo)({control:f.control,name:"visibility"});var I=[{label:(0,a.__)("Public","tutor"),value:"publish"},{label:(0,a.__)("Password Protected","tutor"),value:"password_protected"},{label:(0,a.__)("Private","tutor"),value:"private"}];var N=(0,R.V)(b);var U=(0,R.r)(String(Et),w);var Y=((g===null||g===void 0?void 0:g.course_instructors)||[]).map((function(t){return{id:t.id,name:t.display_name,email:t.user_email,avatar_url:t.avatar_url}}));var $=[].concat(_t(Y),_t(U.data||[])).filter((function(t){return String(t.id)!==String(C===null||C===void 0?void 0:C.id)}));return(0,n.tZ)("div",{css:Tt.sidebar},(0,n.tZ)("div",{css:Tt.statusAndDate},(0,n.tZ)(l.Qr,{name:"visibility",control:f.control,render:function t(e){return(0,n.tZ)(V.Z,gt({},e,{label:(0,a.__)("Visibility","tutor"),placeholder:(0,a.__)("Select visibility status","tutor"),options:I,leftIcon:(0,n.tZ)(s.Z,{name:"eye",width:32,height:32}),loading:!!v&&!e.field.value,onChange:function t(){f.setValue("post_password","")}}))}}),(0,n.tZ)(O.Z,{when:g===null||g===void 0?void 0:g.post_modified},(function(t){return(0,n.tZ)("div",{css:Tt.updatedOn},(0,a.sprintf)((0,a.__)("Last updated on %s","tutor"),(0,c["default"])(new Date(t),Z.E_.dayMonthYear)||""))}))),(0,n.tZ)(O.Z,{when:k==="password_protected"},(0,n.tZ)(l.Qr,{name:"post_password",control:f.control,rules:{required:(0,a.__)("Password is required","tutor")},render:function t(e){return(0,n.tZ)(F.Z,gt({},e,{label:(0,a.__)("Password","tutor"),placeholder:(0,a.__)("Enter password","tutor"),type:"password",isPassword:true,selectOnFocus:true,loading:!!v&&!e.field.value}))}})),(0,n.tZ)(L,null),(0,n.tZ)(l.Qr,{name:"thumbnail",control:f.control,render:function t(e){return(0,n.tZ)(Q.Z,gt({},e,{label:(0,a.__)("Featured Image","tutor"),buttonText:(0,a.__)("Upload Thumbnail","tutor"),infoText:(0,a.sprintf)((0,a.__)("JPEG, PNG, GIF, and WebP formats, up to %s","tutor"),J.y.max_upload_size),generateWithAi:!S||x,loading:!!v&&!e.field.value}))}}),(0,n.tZ)(l.Qr,{name:"video",control:f.control,render:function t(e){return(0,n.tZ)(z.Z,gt({},e,{label:(0,a.__)("Intro Video","tutor"),buttonText:(0,a.__)("Upload Video","tutor"),infoText:(0,a.sprintf)((0,a.__)("MP4, and WebM formats, up to %s","tutor"),J.y.max_upload_size),loading:!!v&&!e.field.value}))}}),(0,n.tZ)(bt,null),(0,n.tZ)(l.Qr,{name:"course_categories",control:f.control,defaultValue:[],render:function t(e){return(0,n.tZ)(M.Z,gt({},e,{label:(0,a.__)("Categories","tutor")}))}}),(0,n.tZ)(l.Qr,{name:"course_tags",control:f.control,render:function t(e){return(0,n.tZ)(q.Z,gt({},e,{label:(0,a.__)("Tags","tutor"),placeholder:(0,a.__)("Add tags","tutor")}))}}),(0,n.tZ)(l.Qr,{name:"post_author",control:f.control,render:function t(e){var r,o;return(0,n.tZ)(G.Z,gt({},e,{label:(0,a.__)("Author","tutor"),options:(r=(o=N.data)===null||o===void 0?void 0:o.map((function(t){return{id:t.id,name:t.name||"",email:t.email||"",avatar_url:t.avatar_url||""}})))!==null&&r!==void 0?r:[],placeholder:(0,a.__)("Search to add author","tutor"),isSearchable:true,disabled:!T,loading:N.isLoading,onChange:function t(){var e=g===null||g===void 0?void 0:g.post_author;var r=f.getValues("course_instructors");var n=!!r.find((function(t){return String(t.id)===String(e===null||e===void 0?void 0:e.ID)}));var o={id:Number(e===null||e===void 0?void 0:e.ID),name:e===null||e===void 0?void 0:e.display_name,email:e.user_email,avatar_url:e===null||e===void 0?void 0:e.tutor_profile_photo_url,isRemoveAble:String(e===null||e===void 0?void 0:e.ID)!==String(_.data.id)};var i=n?r:[].concat(_t(r),[o]);f.setValue("course_instructors",i)},handleSearchOnChange:function t(e){m(e)}}))}}),(0,n.tZ)(O.Z,{when:A},(0,n.tZ)(l.Qr,{name:"course_instructors",control:f.control,render:function t(e){return(0,n.tZ)(G.Z,gt({},e,{label:(0,a.__)("Instructors","tutor"),options:$,placeholder:(0,a.__)("Search to add instructor","tutor"),isSearchable:true,isMultiSelect:true,loading:U.isLoading&&!e.field.value,emptyStateText:(0,a.__)("No instructors added.","tutor"),isInstructorMode:true}))}})))};const At=Ct;var Tt={sidebar:(0,n.iv)("border-left:1px solid ",w.Jv.stroke.divider,";min-height:calc(100vh - ",w.J9,"px);padding-left:",w.W0[32],";padding-block:",w.W0[24],";display:flex;flex-direction:column;gap:",w.W0[16],";",w.Uo.smallTablet,"{border-left:none;border-top:1px solid ",w.Jv.stroke.divider,";padding-block:",w.W0[16],";padding-left:0;}"+(true?"":0),true?"":0),statusAndDate:(0,n.iv)(x.i.display.flex("column"),";gap:",w.W0[4],";"+(true?"":0),true?"":0),updatedOn:(0,n.iv)(S.c.caption(),";color:",w.Jv.text.hints,";"+(true?"":0),true?"":0),priceRadioGroup:(0,n.iv)("display:flex;align-items:center;gap:",w.W0[36],";"+(true?"":0),true?"":0),coursePriceWrapper:(0,n.iv)("display:flex;align-items:flex-start;gap:",w.W0[16],";"+(true?"":0),true?"":0)};var kt=r(6895);function It(){It=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){t[n]=r[n]}}}return t};return It.apply(this,arguments)}function Lt(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var Nt=true?{name:"zmwa79",styles:"align-items:start;span{top:3px;}"}:0;var Mt=function t(){var e=(0,l.Gc)();var r=[{label:(0,a.__)("Schedule course content by date","tutor"),value:"unlock_by_date"},{label:(0,a.__)("Content available after X days from enrollment","tutor"),value:"specific_days"},{label:(0,a.__)("Course content available sequentially","tutor"),value:"unlock_sequentially"},{label:(0,a.__)("Course content unlocked after finishing prerequisites","tutor"),value:"after_finishing_prerequisites",labelCss:Nt},{label:(0,a.__)("None","tutor"),value:""}];if(!J.y.tutor_pro_url){return(0,n.tZ)("div",{css:Ft.dripNoProWrapper},(0,n.tZ)(s.Z,{name:"crown",width:72,height:72}),(0,n.tZ)("h6",{css:S.c.body("medium")},(0,a.__)("Content Drip is a pro feature","tutor")),(0,n.tZ)("p",{css:Ft.dripNoProDescription},(0,a.__)("You can schedule your course content using  content drip options","tutor")),(0,n.tZ)(b.Z,{icon:(0,n.tZ)(s.Z,{name:"crown",width:24,height:24}),onClick:function t(){window.open(J.Z.TUTOR_PRICING_PAGE,"_blank","noopener")}},(0,a.__)("Get Tutor LMS Pro","tutor")))}if(!(0,B.ro)(Z.AO.CONTENT_DRIP)){return(0,n.tZ)("div",{css:Ft.dripNoProWrapper},(0,n.tZ)(s.Z,{name:"contentDrip",width:72,height:72,style:Ft.dripIcon}),(0,n.tZ)("h6",{css:S.c.body("medium")},(0,a.__)("Activate the “Content Drip” addon to use this feature.","tutor")),(0,n.tZ)("p",{css:Ft.dripNoProDescription},(0,a.__)("Control when students can access lessons and quizzes using the Content Drip feature.","tutor")),(0,n.tZ)(b.Z,{variant:"secondary",icon:(0,n.tZ)(s.Z,{name:"linkExternal",width:24,height:24}),onClick:function t(){window.open(J.Z.TUTOR_ADDONS_PAGE,"_blank","noopener")}},(0,a.__)("Enable Content Drip Addon","tutor")))}return(0,n.tZ)("div",{css:Ft.dripWrapper},(0,n.tZ)("h6",{css:Ft.dripTitle},(0,a.__)("Content Drip Type","tutor")),(0,n.tZ)("p",{css:Ft.dripSubTitle},(0,a.__)("You can schedule your course content using one of the following Content Drip options","tutor")),(0,n.tZ)(l.Qr,{name:"contentDripType",control:e.control,render:function t(e){return(0,n.tZ)(H.Z,It({},e,{options:r,wrapperCss:Ft.radioWrapper}))}}))};const Qt=Mt;var Ft={dripWrapper:(0,n.iv)("background-color:",w.Jv.background.white,";padding:",w.W0[16]," ",w.W0[24]," ",w.W0[32]," ",w.W0[32],";min-height:400px;",w.Uo.smallMobile,"{padding:",w.W0[16],";}"+(true?"":0),true?"":0),dripTitle:(0,n.iv)(S.c.body("medium"),";margin-bottom:",w.W0[4],";"+(true?"":0),true?"":0),dripSubTitle:(0,n.iv)(S.c.small(),";color:",w.Jv.text.hints,";margin-bottom:",w.W0[16],";"+(true?"":0),true?"":0),radioWrapper:(0,n.iv)("display:flex;flex-direction:column;gap:",w.W0[8],";"+(true?"":0),true?"":0),dripNoProWrapper:(0,n.iv)("min-height:400px;background:",w.Jv.background.white,";display:flex;flex-direction:column;align-items:center;justify-content:center;gap:",w.W0[4],";padding:",w.W0[24],";text-align:center;"+(true?"":0),true?"":0),dripNoProDescription:(0,n.iv)(S.c.caption(),";color:",w.Jv.text.subdued,";max-width:320px;margin:0 auto ",w.W0[12],";"+(true?"":0),true?"":0),dripIcon:(0,n.iv)("color:",w.Jv.icon.brand,";"+(true?"":0),true?"":0)};var Vt=r(5519);var Gt=r(6848);function qt(t){"@babel/helpers - typeof";return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(t)}function zt(){zt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){t[n]=r[n]}}}return t};return zt.apply(this,arguments)}function Ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(r),!0).forEach((function(e){Rt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Rt(t,e,r){e=Bt(e);if(e in t){Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true})}else{t[e]=r}return t}function Bt(t){var e=Yt(t,"string");return qt(e)==="symbol"?e:String(e)}function Yt(t,e){if(qt(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==undefined){var n=r.call(t,e||"default");if(qt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $t(t,e){return ee(t)||te(t,e)||Kt(t,e)||Ht()}function Ht(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Kt(t,e){if(!t)return;if(typeof t==="string")return Xt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor)r=t.constructor.name;if(r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xt(t,e)}function Xt(t,e){if(e==null||e>t.length)e=t.length;for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function te(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function ee(t){if(Array.isArray(t))return t}function re(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var ne=(0,U.zs)();var oe=true?{name:"1vqsuxb",styles:"button{min-width:auto;}"}:0;var ie=function t(){var e,r;var o=(0,l.Gc)();var c=(0,u.useState)("general"),d=$t(c,2),f=d[0],p=d[1];var v=(0,i.y)({queryKey:["CourseDetails",ne]});var h=o.watch("contentDripType");var y=o.watch("enable_tutor_bp");var b=[{label:(0,a.__)("General","tutor"),value:"general",icon:(0,n.tZ)(s.Z,{name:"settings",width:24,height:24})},{label:(0,a.__)("Content Drip","tutor"),value:"content_drip",icon:(0,n.tZ)(s.Z,{name:"contentDrip",width:24,height:24}),activeBadge:!!h}];if((0,B.ro)(Z.AO.BUDDYPRESS)){b.push({label:(0,a.__)("BuddyPress","tutor"),value:"buddyPress",icon:(0,n.tZ)(s.Z,{name:"buddyPress",width:24,height:24}),activeBadge:y})}var m=(J.y.difficulty_levels||[]).map((function(t){return{label:t.label,value:t.value}}));return(0,n.tZ)("div",null,(0,n.tZ)("label",{css:S.c.caption()},(0,a.__)("Options","tutor")),(0,n.tZ)("div",{css:ue.courseSettings},(0,n.tZ)(kt.Z,{tabList:Z.iM.isAboveSmallMobile?b:b.map((function(t){return Jt(Jt({},t),{},{label:f===t.value?t.label:""})})),activeTab:f,onChange:p,orientation:!Z.iM.isAboveSmallMobile?"horizontal":"vertical",wrapperCss:oe}),(0,n.tZ)("div",{css:(0,n.iv)({borderLeft:"1px solid ".concat(w.Jv.stroke.divider)},true?"":0,true?"":0)},f==="general"&&(0,n.tZ)("div",{css:ue.settingsOptions},(0,n.tZ)(l.Qr,{name:"maximum_students",control:o.control,render:function t(e){return(0,n.tZ)(F.Z,zt({},e,{label:(0,a.__)("Maximum Student","tutor"),helpText:(0,a.__)("Number of students that can enrol in this course. Set 0 for no limits.","tutor"),placeholder:"0",type:"number",isClearable:true,selectOnFocus:true,loading:!!v&&!e.field.value}))}}),(0,n.tZ)(l.Qr,{name:"course_level",control:o.control,render:function t(e){return(0,n.tZ)(V.Z,zt({},e,{label:(0,a.__)("Difficulty Level","tutor"),placeholder:(0,a.__)("Select Difficulty Level","tutor"),helpText:(0,a.__)("Course difficulty level","tutor"),options:m,isClearable:false,loading:!!v&&!e.field.value}))}}),(0,n.tZ)(O.Z,{when:((e=J.y.settings)===null||e===void 0?void 0:e.enrollment_expiry_enabled)==="on"},(0,n.tZ)(l.Qr,{name:"enrollment_expiry",control:o.control,render:function t(e){return(0,n.tZ)(F.Z,zt({},e,{label:(0,a.__)("Enrollment Expiration","tutor"),helpText:(0,a.__)("Student's enrollment will be removed after this number of days. Set 0 for lifetime enrollment.","tutor"),placeholder:"0",type:"number",isClearable:true,selectOnFocus:true,loading:!!v&&!e.field.value}))}})),(0,n.tZ)("div",{css:ue.courseAndQna},(0,n.tZ)(l.Qr,{name:"is_public_course",control:o.control,render:function t(e){return(0,n.tZ)(g.Z,zt({},e,{label:(0,a.__)("Public Course","tutor"),helpText:(0,a.__)("Make This Course Public. No Enrollment Required.","tutor"),loading:!!v&&!e.field.value}))}}),(0,n.tZ)(O.Z,{when:((r=J.y.settings)===null||r===void 0?void 0:r.enable_q_and_a_on_course)==="on"},(0,n.tZ)(l.Qr,{name:"enable_qna",control:o.control,render:function t(e){return(0,n.tZ)(g.Z,zt({},e,{label:(0,a.__)("Q&A","tutor"),helpText:(0,a.__)("Enable Q&A section for your course","tutor"),loading:!!v&&!e.field.value}))}})))),f==="content_drip"&&(0,n.tZ)(Qt,null),f==="buddyPress"&&(0,n.tZ)("div",{css:ue.settingsOptions},(0,n.tZ)(l.Qr,{name:"enable_tutor_bp",control:o.control,render:function t(e){return(0,n.tZ)(Vt.Z,zt({},e,{label:(0,a.__)("Enable BuddyPress group activity feeds","tutor")}))}}),(0,n.tZ)(l.Qr,{name:"bp_attached_group_ids",control:o.control,render:function t(e){return(0,n.tZ)(Gt.Z,zt({},e,{label:(0,a.__)("BuddyPress Groups","tutor"),helpText:(0,a.__)("Assign this course to BuddyPress Groups","tutor"),placeholder:(0,a.__)("Search BuddyPress Groups","tutor"),options:(J.y.bp_groups||[]).map((function(t){return{label:t.name,value:String(t.id)}})),loading:!!v&&!e.field.value}))}})))))};const ae=ie;var ue={courseSettings:(0,n.iv)("display:grid;grid-template-columns:200px 1fr;margin-top:",w.W0[12],";border:1px solid ",w.Jv.stroke["default"],";border-radius:",w.E0[6],";background-color:",w.Jv.background["default"],";overflow:hidden;",w.Uo.smallMobile,"{grid-template-columns:1fr;}"+(true?"":0),true?"":0),settingsOptions:(0,n.iv)("min-height:400px;display:flex;flex-direction:column;gap:",w.W0[12],";padding:",w.W0[16]," ",w.W0[32]," ",w.W0[48]," ",w.W0[32],";background-color:",w.Jv.background.white,";",w.Uo.smallMobile,"{padding:",w.W0[16],";}"+(true?"":0),true?"":0),courseAndQna:(0,n.iv)("display:flex;flex-direction:column;gap:",w.W0[32],";margin-top:",w.W0[12],";"+(true?"":0),true?"":0)};var le=r(6051);var ce=r(674);var se=r(9528);var de=r(8488);function fe(t){"@babel/helpers - typeof";return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function pe(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */pe=function e(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function t(e,r,n){return e[r]=n}}function c(t,e,r,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),u=new x(o||[]);return n(a,"_invoke",{value:Z(t,r,u)}),a}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function f(){}function p(){}function v(){}var h={};l(h,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(j([])));b&&b!==e&&r.call(b,i)&&(h=b);var m=v.prototype=f.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,i,a,u){var l=s(t[n],t,i);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==fe(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,u)}))}u(l.arg)}var i;n(this,"_invoke",{value:function t(r,n){function a(){return new e((function(t,e){o(r,n,t,e)}))}return i=i?i.then(a,a):a()}})}function Z(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===d)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function w(t,e){var r=e.method,n=t.iterator[r];if(undefined===n)return e.delegate=null,"throw"===r&&t.iterator["return"]&&(e.method="return",e.arg=undefined,w(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=undefined),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=undefined,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:undefined,done:!0}}return p.prototype=v,n(m,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(_.prototype),l(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),l(m,u,"Generator"),l(m,i,(function(){return this})),l(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=j,x.prototype={constructor:x,reset:function t(e){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=undefined)},stop:function t(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function t(e){if(this.done)throw e;var n=this;function o(t,r){return u.type="throw",u.arg=e,n.next=t,r&&(n.method="next",n.arg=undefined),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function t(e,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(u)},complete:function t(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),d},finish:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function t(e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(e,r,n){return this.delegate={iterator:j(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=undefined),d}},t}function ve(t,e,r,n,o,i,a){try{var u=t[i](a);var l=u.value}catch(t){r(t);return}if(u.done){e(l)}else{Promise.resolve(l).then(n,o)}}function he(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ve(i,n,o,a,u,"next",t)}function u(t){ve(i,n,o,a,u,"throw",t)}a(undefined)}))}}function ye(){ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){t[n]=r[n]}}}return t};return ye.apply(this,arguments)}function be(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function me(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?be(Object(r),!0).forEach((function(e){ge(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ge(t,e,r){e=_e(e);if(e in t){Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true})}else{t[e]=r}return t}function _e(t){var e=Ze(t,"string");return fe(e)==="symbol"?e:String(e)}function Ze(t,e){if(fe(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==undefined){var n=r.call(t,e||"default");if(fe(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function we(t,e){return Pe(t)||je(t,e)||Oe(t,e)||Se()}function Se(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Oe(t,e){if(!t)return;if(typeof t==="string")return xe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor)r=t.constructor.name;if(r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xe(t,e)}function xe(t,e){if(e==null||e>t.length)e=t.length;for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function je(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(c)throw o}}return u}}function Pe(t){if(Array.isArray(t))return t}var De=(0,U.zs)();var We=false;var Ee=function t(){var e;var r=(0,l.Gc)();var c=(0,o.NL)();var s=(0,i.y)({queryKey:["CourseDetails",De]});var d=(0,K.mG)();var f=(0,de.F)();var p=(0,u.useState)(false),v=we(p,2),h=v[0],y=v[1];var b=c.getQueryData(["CourseDetails",De]);var m=!!J.y.tutor_pro_url;var g=((e=J.y.settings)===null||e===void 0?void 0:e.chatgpt_enable)==="on";var _=r.watch("post_status");var w=r.watch("editor_used");return(0,n.tZ)("div",{css:Ae.wrapper},(0,n.tZ)("div",{css:Ae.mainForm({isWpEditorFullScreen:h})},(0,n.tZ)("div",{css:Ae.fieldsWrapper},(0,n.tZ)("div",{css:Ae.titleAndSlug},(0,n.tZ)(l.Qr,{name:"post_title",control:r.control,rules:me(me({},(0,j.n0)()),(0,j.T9)(255)),render:function t(e){return(0,n.tZ)(F.Z,ye({},e,{label:(0,a.__)("Title","tutor"),placeholder:(0,a.__)("ex. Learn Photoshop CS6 from scratch","tutor"),isClearable:true,selectOnFocus:true,generateWithAi:!m||g,loading:!!s&&!e.field.value,onChange:function t(e){if(_==="draft"&&!We){r.setValue("post_name",(0,B.k6)(String(e)),{shouldValidate:true,shouldDirty:true})}}}))}}),(0,n.tZ)(l.Qr,{name:"post_name",control:r.control,render:function t(e){var r;return(0,n.tZ)(ce.Z,ye({},e,{label:(0,a.__)("Course URL","tutor"),baseURL:"".concat(J.y.home_url,"/").concat((r=J.y.settings)===null||r===void 0?void 0:r.course_permalink_base),onChange:function t(){We=true}}))}})),(0,n.tZ)(l.Qr,{name:"post_content",control:r.control,render:function t(e){return(0,n.tZ)(se.Z,ye({},e,{label:(0,a.__)("Description","tutor"),loading:!!s&&!e.field.value,max_height:280,generateWithAi:!m||g,hasCustomEditorSupport:true,editorUsed:w,editors:b===null||b===void 0?void 0:b.editors,onCustomEditorButtonClick:function t(){return r.handleSubmit((function(t){var e=(0,K.iC)(t);return d.mutateAsync(me(me({course_id:De},e),{},{post_status:(0,B.Xl)(r.getValues("post_status"),r.getValues("visibility"))}))}))()},onBackToWPEditorClick:function(){var t=he(pe().mark((function t(e){return pe().wrap((function t(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",f.mutateAsync({courseId:De,builder:e}).then((function(t){r.setValue("editor_used",{name:"classic",label:(0,a.__)("Classic Editor","tutor"),link:""});return t})));case 1:case"end":return n.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onFullScreenChange:function t(e){y(e)}}))}}),(0,n.tZ)(ae,null)),(0,n.tZ)(O.Z,{when:Z.iM.isAboveTablet},(0,n.tZ)(le.Z,{styleModifier:Ae.navigator}))),(0,n.tZ)(At,null),(0,n.tZ)(O.Z,{when:!Z.iM.isAboveTablet},(0,n.tZ)(le.Z,{styleModifier:Ae.navigator})))};const Ce=Ee;var Ae={wrapper:(0,n.iv)("display:grid;grid-template-columns:1fr 338px;gap:",w.W0[32],";width:100%;",w.Uo.smallTablet,"{grid-template-columns:1fr;gap:0;}"+(true?"":0),true?"":0),mainForm:function t(e){var r=e.isWpEditorFullScreen;return(0,n.iv)("padding-block:",w.W0[32]," ",w.W0[24],";align-self:start;top:",w.J9,"px;position:sticky;",r&&(0,n.iv)("z-index:",w.W5.header+1,";"+(true?"":0),true?"":0)," ",w.Uo.smallTablet,"{padding-top:",w.W0[16],";position:unset;}"+(true?"":0),true?"":0)},fieldsWrapper:(0,n.iv)("display:flex;flex-direction:column;gap:",w.W0[24],";"+(true?"":0),true?"":0),titleAndSlug:(0,n.iv)("display:flex;flex-direction:column;gap:",w.W0[8],";"+(true?"":0),true?"":0),sidebar:(0,n.iv)("border-left:1px solid ",w.Jv.stroke.divider,";min-height:calc(100vh - ",w.J9,"px);padding-left:",w.W0[32],";padding-block:",w.W0[24],";display:flex;flex-direction:column;gap:",w.W0[16],";"+(true?"":0),true?"":0),priceRadioGroup:(0,n.iv)("display:flex;align-items:center;gap:",w.W0[36],";"+(true?"":0),true?"":0),coursePriceWrapper:(0,n.iv)("display:flex;align-items:flex-start;gap:",w.W0[16],";"+(true?"":0),true?"":0),navigator:(0,n.iv)("margin-top:",w.W0[40],";",w.Uo.smallTablet,"{margin-top:0;}"+(true?"":0),true?"":0),statusAndDate:(0,n.iv)(x.i.display.flex("column"),";gap:",w.W0[4],";"+(true?"":0),true?"":0),updatedOn:(0,n.iv)(S.c.caption(),";color:",w.Jv.text.hints,";"+(true?"":0),true?"":0)}},7692:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/56f20c93d8e28423f724fe4e914fbd21-3d.png"},2663:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/7a53b07b7f13e48b7b7b47dff35d9946-black-and-white.png"},8505:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/9613f2a35fc147cbde38998fc279f6e9-concept.png"},9554:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/ff5a8a3d6c18c02f00d659da3824176b-dreamy.png"},628:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/bff40839481a6e109932774fea006137-filmic.png"},7210:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/dec5e33b385ba1a7c841dde2b6c1a5af-illustration.png"},4246:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/83571e85f649c56b82349466a5b4c844-neon.png"},121:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/9dcf3f4907036dd08b31bf2a7181bed0-none.jpg"},7758:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/fc8edfd709e8f6ed349b59a0f0a00647-painting.png"},4121:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/32925d4873712d856f4abc340b3334cb-photo.png"},4446:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/fb8df26f9102747dfafc31d912d6d074-retro.png"},9463:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/7c935ca7690aecae8c42142d8cec660e-sketch.png"},9502:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/e67e28356e87045281d41cd6583f5c41-generate-image-2x.webp"},8037:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/9c13bda85170ee68f15380378d920fd1-generate-image.webp"},5036:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/92fb1ef207f274b44e6d8c8d4c539329-profile-photo.png"},6614:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/8883d834437ecd54063a38ba8ec0ef37-subscriptions-empty-state-2x.webp"},6022:(t,e,r)=>{r.d(e,{Z:()=>n});const n=r.p+"images/026952ce6dfdf3da34dc55d99f241520-subscriptions-empty-state.webp"}}]);